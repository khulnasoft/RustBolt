# Command line interface

[@rustbolt/cli](https://npmjs.com/package/@rustbolt/cli) is the command line tool for Rustbolt, providing a variety of commands to make working with Rustbolt easier.

- If you do not have `@rustbolt/cli` installed, please read the [Quick start](/guide/start/quick-start) section first.
- If you are using Rsbuild, please refer to the [Rsbuild CLI](https://rsbuild.dev/guide/basic/cli) section.

:::warning Compatible with webpack-cli
`@rustbolt/cli` is not compatible with `webpack-cli`, so there will be some differences between the two.
:::

## All commands

To view all available CLI commands, run the following command in the project directory:

```bash
npx rustbolt -h
```

## Common flags

Rustbolt CLI provides several common flags that can be used with all commands:

| Flag                 | Description                                                                                                                                   |
| -------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| -c, --config [value] | Specify the path to the configuration file, see [Specify the configuration file](/config/index#specify-the-configuration-file)                |
| --configLoader       | Specify the loader to load the config file, can be `native` or `register`, defaults to `register`                                             |
| --configName         | Specify the name of the configuration to use.                                                                                                 |
| --nodeEnv            | Set the value of `process.env.NODE_ENV`, defaults to `development` for `rustbolt dev`, and `production` for `rustbolt build` and `rustbolt preview` |
| -h, --help           | Show help information                                                                                                                         |
| -v, --version        | Show version number                                                                                                                           |

:::tip
All flags in Rustbolt CLI support the `camelCase` and `kebab-case`, for example, both `--configLoader` and `--config-loader` are valid.
:::

## rustbolt build

`rustbolt build` is used to run Rustbolt build, which will generate the output files in the [output.path](/config/output#outputpath) directory.

```bash
npx rustbolt build  # Read the `rustbolt.config.*` configuration file by default
```

`rustbolt build` can be abbreviated as `rustbolt b`:

```bash
npx rustbolt b
```

Use the `-c` or `--config` flag to specify the configuration file path:

```bash
npx rustbolt build -c ./your.config.js
```

The complete flags are as follows:

```
rustbolt build

Options:
      --entry          entry file                                        [array]
  -o, --outputPath     output path dir                                  [string]
  -m, --mode           mode                                             [string]
  -w, --watch          watch                          [boolean] [default: false]
      --env            env passed to config function                     [array]
  -d, --devtool        devtool                        [boolean] [default: false]
      --analyze        analyze                        [boolean] [default: false]
      --json           emit stats json
      --profile        capture timing information for each module
                                                      [boolean] [default: false]
```

## rustbolt dev

`rustbolt dev` is used to run Rustbolt dev server, which will start a local dev server that will listen for file changes and automatically refresh the browser.

```bash
npx rustbolt dev
```

Use the `-c` or `--config` flag to specify the configuration file path:

```bash
npx rustbolt dev -c ./your.config.js
```

`rustbolt dev` can be abbreviated as `rustbolt serve` or `rustbolt s`:

```bash
npx rustbolt s
npx rustbolt serve
```

The complete flags are as follows:

```
rustbolt dev

Options:
      --entry          entry file                                        [array]
  -o, --outputPath     output path dir                                  [string]
  -m, --mode           mode                                             [string]
  -w, --watch          watch                          [boolean] [default: false]
      --env            env passed to config function                     [array]
  -d, --devtool        devtool                        [boolean] [default: false]
      --hot            enables hot module replacement
      --port           allows to specify a port to use                  [number]
      --host           allows to specify a hostname to use              [string]
```

## rustbolt preview

`rustbolt preview` is used to preview the production build output locally, note that you need to build the output first by running the `rustbolt build` command.

```bash
npx rustbolt preview
```

The complete flags are as follows:

```
rustbolt preview [dir]

run the rustbolt server for build output

Positionals:
  dir  directory want to preview                                        [string]

Options:
      --publicPath  static resource server path                         [string]
      --port        preview server port                                 [number]
      --host        preview server host                                 [string]
      --open        open browser                                       [boolean]
      --server      Configuration items for the server.                 [string]
```
